(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{503:function(t,e,n){var content=n(563);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(26).default)("c692754c",content,!0,{sourceMap:!1})},562:function(t,e,n){"use strict";n(503)},563:function(t,e,n){var r=n(25)(!1);r.push([t.i,".chart{position:absolute;top:0;left:0;width:100%;height:100%}",""]),t.exports=r},674:function(t,e,n){"use strict";n.r(e);var r=n(5),h=(n(8),n(65),n(285),n(27),n(39),n(0)),o=n(95),c=h.a.extend({data:function(){return{chartConfig:{dividedNum:13,heights:[]},horizontalAxis:[1920,1925,1930,1935,1940,1944,1945,1946,1947,1948,1950,1955,1960,1965,1970,1975,1980,1985,1990,1995,2e3,2005,2010,2015,2016,2017,2018,2019],verticalAxis:[],data:{city:"",population:[]},index:2,canvas:{chart:null,context:null,width:0,height:0},timer:null}},created:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.data=o[t.index],t.verticalAxis=o[t.index].population;case 2:case"end":return e.stop()}}),e)})))()},computed:{horizontalAxisFilter:function(){return this.horizontalAxis.filter((function(t,i){return i>13}))},verticalAxisFilter:function(){return this.verticalAxis.filter((function(t,i){return i>13}))},windowSize:function(){return this.$store.getters.windowSize}},watch:{windowSize:{handler:function(){this.timer?clearTimeout(this.timer):this.resetChart();var t=this;this.timer=setTimeout((function(){t.timer=null,t.makeChart()}),200)},immediate:!1}},mounted:function(){this.init(),this.makeChart()},methods:{init:function(){this.canvas.chart=this.$refs.chart,this.canvas.context=this.canvas.chart.getContext("2d"),this.canvas.chart.width=10*this.canvas.chart.getBoundingClientRect().width,this.canvas.chart.height=10*this.canvas.chart.getBoundingClientRect().height,this.canvas.width=this.canvas.chart.getBoundingClientRect().width,this.canvas.height=this.canvas.chart.getBoundingClientRect().height},makeChart:function(){var canvas=this.canvas,t=canvas.context,e=canvas.width,n=10*canvas.height,r=n/this.chartConfig.dividedNum;t.save();var h={context:t,lineWidth:.015*e,fontSize:.216*e,fillStyle:"blue",textAlign:"right",textBaseline:"top"};this.setContext(h),t.fillText(this.data.city,e,.05*r,2e3),this.makeHorizontalAxis(t,e,r),this.makeVerticalAxis(t,e,r),this.makeHorizontalAxisText(canvas),this.makeVerticalAxisText(canvas),this.makeDot(t,e,n),t.restore()},setContext:function(t){t.context.lineWidth=t.lineWidth;var e=t.fontSize;t.context.font="".concat(e,"px 'ＭＳ ゴシック'"),t.context.fillStyle=t.fillStyle,t.context.textAlign=t.textAlign,t.context.textBaseline=t.textBaseline},makeHorizontalAxis:function(t,e,n){for(var i=this.chartConfig.dividedNum+1;i>0;i--)t.strokeStyle="#cacaca",t.lineWidth=.015*e,t.moveTo(e,i*n),t.lineTo(9*e,i*n),t.stroke(),i<this.chartConfig.dividedNum&&i>0&&this.chartConfig.heights.push(i*n)},makeHorizontalAxisText:function(canvas){var t=canvas.context,e=canvas.width,n=canvas.height,r={context:t,lineWidth:.015*e,fontSize:.216*e,fillStyle:"blue",textAlign:"center",textBaseline:"top"};this.setContext(r);for(var h=[],i=0;i<this.horizontalAxisFilter.length;i+=8/this.horizontalAxisFilter.length)h.push(e+e*i);for(var o=0;o<this.horizontalAxisFilter.length;o++)t.fillText(this.horizontalAxisFilter[o],h[o],9.5*n,2e3);t.restore()},makeVerticalAxis:function(t,e,n){t.beginPath(),t.moveTo(e,n),t.lineTo(e,(this.chartConfig.dividedNum-1)*n),t.closePath(),t.stroke()},makeVerticalAxisText:function(canvas){var t=canvas.context,e=canvas.width,n={context:t,lineWidth:.015*e,fontSize:.216*e,fillStyle:"blue",textAlign:"right",textBaseline:"middle"};this.setContext(n);for(var r=this.chartMaxMin(),h=this.horizontalAxisDiff(),o=[],i=r.min-h;i<r.max+h+1;i+=h)o.push(10*Math.round(i/10));console.log(o);for(var c=this.chartConfig.heights.length-1;c>-1;c--)t.fillText(String(o[c]),e-e/10,this.chartConfig.heights[c],2e3);t.restore()},makeDot:function(t,e,n){for(var r=[],i=0;i<this.horizontalAxisFilter.length;i+=8/this.horizontalAxisFilter.length)r.push(e+e*i);var h={context:t,lineWidth:.03*e,fontSize:.216*e,fillStyle:"#cacaca",textAlign:"right",textBaseline:"middle"};this.setContext(h),t.strokeStyle="#cacaca";for(var o=this.chartMaxMin(),c=this.horizontalAxisDiff(),l=(this.chartConfig.dividedNum-2)*n/this.chartConfig.dividedNum,d=n/this.chartConfig.dividedNum/c,x=0;x<r.length;x++){var f=this.verticalAxisFilter[x]-o.min;t.beginPath(),t.arc(r[x],l-d*f,40,0,2*Math.PI,!0),t.fill(),x!==r.length&&(t.moveTo(r[x],l-d*f),t.lineTo(r[x+1],l-d*(this.verticalAxisFilter[x+1]-o.min))),t.stroke(),t.restore()}},chartMaxMin:function(){var t=this.verticalAxisFilter.reduce((function(a,b){return Math.max(a,b)})),e=this.verticalAxisFilter.reduce((function(a,b){return Math.min(a,b)})),n=String(t-e).length-3,r=Math.pow(10,n);return{max:Math.floor(t/r)*r,min:Math.floor(e/r)*r}},horizontalAxisDiff:function(){var t=this.chartMaxMin();return(t.max-t.min)/(this.chartConfig.dividedNum-4)},drawTriangle:function(){var t=this.canvas.chart;if(t.getContext){var e=t.getContext("2d");e.beginPath();var n=t.getBoundingClientRect().width,r=t.getBoundingClientRect().height;e.lineWidth=.069*n,e.moveTo(5.17*n,1.84*r),e.lineTo(7.76*n,9.19*r),e.lineTo(2.59*n,9.19*r),e.closePath(),e.stroke()}},next:function(){this.index+=1,this.resetChart(),this.makeChart()},back:function(){this.index-=1,this.resetChart(),this.makeChart()},resetChart:function(){var canvas=this.canvas,t=canvas.context,e=10*canvas.width,n=10*canvas.height;t.clearRect(0,0,e,n),this.data=Object.assign({},this.data,o[this.index]),this.verticalAxis=[],this.verticalAxis=this.verticalAxis.concat(o[this.index].population),this.chartConfig=Object.assign({},this.chartConfig,{heights:[]})}}}),l=(n(562),n(70)),d=n(79),x=n.n(d),f=n(411),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{ref:"a",staticStyle:{"padding-top":"56.25%",width:"100%",position:"relative"}},[n("canvas",{ref:"chart",staticClass:"chart"})]),t._v(" "),n("v-btn",{on:{click:t.drawTriangle}},[t._v("click")]),t._v(" "),n("v-btn",{attrs:{disabled:0==t.index},on:{click:t.back}},[t._v("back")]),t._v(" "),n("v-btn",{on:{click:t.next}},[t._v("next")])],1)}),[],!1,null,null,null);e.default=component.exports;x()(component,{VBtn:f.a})}}]);